// The first operand is in 0000-0007, the second operand is in 0008-000F
// the result will be stored in A000-A007
// The carrying number is in 1000

add-begin:
	LoadI R15, #0
	Save  [0x1000], R15		// Clear the carrying number

	LoadI R14, #0 			// Loop initialization

add-loop:
	LoadI R15, #6
	Equal R14, R15			// Loop condition
	JmpC  add-end

	LoadI R10, #0x0000
	Add   R10, R14
	LoadR R0, [R10]
	LoadI R10, #0x0008
	Add   R10, R14
	LoadR R1, [R10]
	Load  R2, [0x1000]
	Add   R0, R1
	Add   R0, R2
	LoadI R15, #99
	Less  R15, R0
	JmpC  add-carry
	JmpNC add-no-carry

add-carry-end:
	LoadI R10, #0xA000
	Add   R10, R14
	SaveR [R10], R0

	LoadI R15, #1
	Add   R14, R15			// Loop incrementation
	Jmp   add-loop

add-carry:
	LoadI R15, #100
	Sub   R0, R15
	LoadI R15, #1
	Save  [0x1000], R15
	Jmp   add-carry-end

add-no-carry:
	LoadI R15, #0
	Save  [0x1000], R15
	Jmp   add-carry-end

add-end:
